server.port=${PORT:8080}

spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/mealy}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.datasource.driver-class-name=org.postgresql.Driver

# Phase 3 - JWT authentication
mealy.jwt.secret=${MEALY_JWT_SECRET:ChangeThisInProduction_UseAtLeast32CharsLongSecretKey!}
mealy.jwt.expirationMinutes=${MEALY_JWT_EXP_MIN:10080}

# Nutrition API (optional). If MEALY_NUTRITION_API_KEY is empty, nutrition lookup is skipped.
mealy.nutrition.api.url=${MEALY_NUTRITION_API_URL:https://gustar-io-deutsche-rezepte.p.rapidapi.com/nutrition}
mealy.nutrition.api.key=${MEALY_NUTRITION_API_KEY:}
mealy.nutrition.api.host=${MEALY_NUTRITION_API_HOST:gustar-io-deutsche-rezepte.p.rapidapi.com}

# Mail (optional). Disabled by default.
# Enable by setting MEALY_MAIL_ENABLED=true and configuring SMTP env vars on Render.
mealy.mail.enabled=${MEALY_MAIL_ENABLED:false}
# Admin recipient (can be overridden without code changes)
mealy.mail.adminTo=${MEALY_MAIL_ADMIN_TO:}
# Override recipient (for testing / admin mode)
mealy.mail.overrideTo=${MEALY_MAIL_OVERRIDE_TO:}

# GMX: host=mail.gmx.net, port=587 (STARTTLS)
spring.mail.host=${MEALY_SMTP_HOST:mail.gmx.net}
spring.mail.port=${MEALY_SMTP_PORT:587}
spring.mail.username=${MEALY_SMTP_USER:}
spring.mail.password=${MEALY_SMTP_PASS:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=200000
spring.mail.properties.mail.smtp.timeout=200000
spring.mail.properties.mail.smtp.writetimeout=200000